<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Serial port bluetooth module (Master/Slave)</title><meta charset="utf-8"/></head><body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Serial port bluetooth module (Master/Slave)</h1>

<p>This module is an easy to use Bluetooth SPP (Serial Port Protocol) module, designed for transparent wireless serial connections. 
</p><p>The Serial port Bluetooth module is fully qualified Bluetooth V2.0+EDR (Enhanced Data Rate) 3Mbps Modulation with complete 2.4GHz radio transceiver and baseband. It uses CSR Bluecore 04-External single chip Bluetooth system with CMOS technology and with AFH(Adaptive Frequency Hopping Feature). It has a footprint as small as 12.7mmx27mm. Hopefully it will simplify your overall design/development cycle. 
</p><p><b>Model: <a href="http://www.seeedstudio.com/depot/serial-port-bluetooth-module-masterslave-p-572.html?cPath=139_142">WLS123A1M</a></b>
</p><p><a href="http://www.seeedstudio.com/depot/images/large/product/newblue_LRG.jpg">http://www.seeedstudio.com/depot/images/large/product/newblue_LRG.jpg</a>
</p>
<h2>  Features  </h2>
<h3>  Hardware features  </h3>
<ul><li>Typical -80dBm sensitivity 
</li><li>Up to +4dBm RF transmit power 
</li><li>Low Power 1.8V Operation ,1.8 to 3.6V I/O 
</li><li>PIO control 
</li><li>UART interface with programmable baud rate 
</li><li>Integrated antenna 
</li><li>Edge connector
</li></ul>
<h3>  Software features  </h3>
<ul><li>Default Baud rate: 38400, Data bits:8, Stop bit:1,Parity:No parity, Data control: yes. Supported baud rate:
</li></ul>
<p>9600,19200,38400,57600,115200,230400,460800. 
</p>
<ul><li>Use CTS and RTS to control data stream. 
</li><li>Given a rising pulse in PIO0, device will be disconnected. 
</li><li>Status instruction port PIO1: low-disconnected, high-connected; 
</li><li>PIO10 and PIO11 can be connected to red and blue LED separately. When master and slave are paired, red
</li></ul>
<p>and blue led blinks 1time/2s in interval. While disconnected only blue led blinks 2times/s. 
</p>
<ul><li>Auto-connects to the last device on power as default. 
</li><li>Permits pairing device to connect as default. 
</li><li>Auto-pairing PINCODE:”0000” as default 
</li><li>Auto-reconnect in 30 min when disconnected as a result of beyond the range of connection.
</li></ul>
<h2>  Application Ideas  </h2>
<ul><li>Remote controller 
</li><li>Wireless communication<br/>
</li></ul>
<h2>  Cautions  </h2>
<p><font color="red">
</font></p>
<ul><li>While using with Seeeduino / Arduino, set the operation voltage to 5V. Else use a proper logic level converter. 
</li><li>While using with UartSBee, set the operation voltage to 5V 
</li><li>Command to change baud rate is persistent even after reset. Hence remember the baud rate for next use.
</li></ul>
<p>
</p>
<h2>  Specification  </h2>
<p><img src="img/Bluetooth-module-pin.JPG" width="892"/>
</p>
<table >
<tr>
<th> Pin
</th>
<th> #
</th>
<th> Pad Type
</th>
<th> Description
</th></tr>
<tr>
<td width="100px"> PIO11
</td>
<td width="100px"> 34
</td>
<td width="350px"> Bi-Direction
</td>
<td width="450px"> Programmable input/output line
</td></tr>
<tr>
<td> PIO10
</td>
<td> 33
</td>
<td> Bi-Direction
</td>
<td> Programmable input/output line
</td></tr>
<tr>
<td> PIO9
</td>
<td> 32
</td>
<td> Bi-Direction
</td>
<td> Programmable input/output line
</td></tr>
<tr>
<td> PIO8
</td>
<td> 31
</td>
<td> Bi-Direction
</td>
<td> Programmable input/output line
</td></tr>
<tr>
<td> PIO7
</td>
<td> 30
</td>
<td> Bi-Direction
</td>
<td> Programmable input/output line
</td></tr>
<tr>
<td> PIO6
</td>
<td> 29
</td>
<td> Bi-Direction
</td>
<td> Programmable input/output line
</td></tr>
<tr>
<td> PIO5
</td>
<td> 28
</td>
<td> Bi-Direction
</td>
<td> Programmable input/output line
</td></tr>
<tr>
<td> PIO4
</td>
<td> 27
</td>
<td> Bi-Direction
</td>
<td> Programmable input/output line
</td></tr>
<tr>
<td> PIO3
</td>
<td> 26
</td>
<td> Bi-Direction
</td>
<td> Programmable input/output line
</td></tr>
<tr>
<td> PIO32
</td>
<td> 25
</td>
<td> Bi-Direction
</td>
<td> Programmable input/output line
</td></tr>
<tr>
<td> PIO1
</td>
<td> 24
</td>
<td> Bi-Direction TX EN
</td>
<td> Programmable input/output line, control output for PA(if fitted)
</td></tr>
<tr>
<td> PIO0
</td>
<td> 23
</td>
<td> Bi-Direction RX EN
</td>
<td> Programmable input/output line, control output for LNA(if fitted)
</td></tr>
<tr>
<td> GND
</td>
<td> 13,21,22
</td>
<td> VSS
</td>
<td> Ground pot
</td></tr>
<tr>
<td> USB±
</td>
<td> 15,20
</td>
<td> Bi-Directional
</td>
<td>
</td></tr>
<tr>
<td> SPI_CLK
</td>
<td> 19
</td>
<td> CMOS input with weak internal pull-down
</td>
<td> Serial peripheral interface clock
</td></tr>
<tr>
<td> SPI_MISO
</td>
<td> 18
</td>
<td> CMOS input with weak internal pull-down
</td>
<td> Serial peripheral interface data Output
</td></tr>
<tr>
<td> SPI_MOSI
</td>
<td> 17
</td>
<td> CMOS input with weak internal pull-down
</td>
<td> Serial peripheral interface data input
</td></tr>
<tr>
<td> SPI_CSB
</td>
<td> 16
</td>
<td> CMOS input with weak internal pull-up
</td>
<td> Chip select for serial peripheral interface,active low
</td></tr>
<tr>
<td> NC
</td>
<td> 14
</td>
<td>
</td>
<td>
</td></tr>
<tr>
<td> 3.3VCC
</td>
<td> 12
</td>
<td> 3.3V
</td>
<td> Integrated 3.3V(+)supply with on-chip linear regulator output within 3.15-3.3V
</td></tr>
<tr>
<td> RESETB
</td>
<td> 11
</td>
<td> CMOS input with weak internal pull-up
</td>
<td> Reset if low. input debouncde so must be low for&gt;5MS to cause a reset
</td></tr>
<tr>
<td> AIO1
</td>
<td> 10
</td>
<td> Bi-Direction
</td>
<td> Programmable input/output line
</td></tr>
<tr>
<td> AIO0
</td>
<td> 9
</td>
<td> Bi-Direction
</td>
<td> Programmable input/output line
</td></tr>
<tr>
<td> PCM_SYNC
</td>
<td> 8
</td>
<td> Bi-Direction
</td>
<td> Synchronous PCM data strobe
</td></tr>
<tr>
<td> PCM_IN
</td>
<td> 7
</td>
<td> CMOS Input
</td>
<td> Synchronous PCM data input
</td></tr>
<tr>
<td> PCM_OUT
</td>
<td> 6
</td>
<td> CMOS output
</td>
<td> Synchronous PCM data output
</td></tr>
<tr>
<td> PCM_CLK
</td>
<td> 5
</td>
<td> Bi-Direction
</td>
<td> Synchronous PCM data clock
</td></tr>
<tr>
<td> UART_RTS
</td>
<td> 4
</td>
<td> CMOS output tri-stable with weak internal pull-up
</td>
<td> UART request to send, active low
</td></tr>
<tr>
<td> UART_CTS
</td>
<td> 3
</td>
<td> CMOS input with weak internal pull-down
</td>
<td> UART Data input
</td></tr>
<tr>
<td> UART_RX
</td>
<td> 2
</td>
<td> CMOS output,tri-stable with weak internal pull-down
</td>
<td> UART Data input
</td></tr>
<tr>
<td> UART_TX
</td>
<td> 1
</td>
<td> CMOS output,tri-stable with weak internal pull-up
</td>
<td> UART Data output
</td></tr></table>
<p><br/>
</p>
<h2>  Software Instruction  </h2>
<h4>  Working Sketch Map  </h4>
<p><img src="img/Bluetooth-1.jpg" width="744"/>
</p>
<h4>  Flowchat  </h4>
<p><img src="img/Bluetooth-2.jpg" width="524"/>
</p>
<h4>  Commands to change default configuration  </h4>
<p><b>1. Set working MODE</b>
</p>
<table>
<tr>
<td width="200px"> \r\n+STWMOD=0\r\n
</td>
<td width="400px"> Set device working mode as client (slave). Save and Rest.
</td></tr>
<tr>
<td> \r\n+STWMOD=1\r\n
</td>
<td> Set device working mode as server (master). Save and Rest.
</td></tr></table>
<p><b>Note:</b> <b>\r\n</b> is necessary for operation and the value of are <b>0x0D 0x0A</b> in Hex. <b>\r</b> and <b>\n</b> represent <b>carriage-return</b> and <b>line-feed</b>(or next line), 
</p><p><b>2.Set BAUDRATE</b>
</p>
<table>
<tr>
<td width="200px"> \r\n+STBD=115200\r\n
</td>
<td width="400px"> Set baudrate 115200. Save and Rest.
</td></tr>
<tr>
<td colspan="2"> Supported baudrate: 9600, 19200,38400,57600,115200,230400,460800.
</td></tr></table>
<p><b>3. Set Device NAME</b>
</p>
<table>
<tr>
<td width="200px"> \r\n+STNA=abcdefg
</td>
<td width="400px"> Set device name as “abcdefg”. Save and Rest.
</td></tr></table>
<p><b>4. Auto-connect the last paired device on power</b>
</p>
<table>
<tr>
<td width="200px"> \r\n+STAUTO=0\r\n
</td>
<td width="400px"> Auto-connect forbidden. Save and Rest.
</td></tr>
<tr>
<td width="200px"> \r\n+STAUTO=1\r\n
</td>
<td width="400px"> Permit Auto-connect. Save and Rest.
</td></tr></table>
<p><b>5. Permit Paired device to connect me</b>
</p>
<table>
<tr>
<td width="200px"> \r\n+STOAUT=0\r\n
</td>
<td width="400px"> Forbidden. Save and Rest.
</td></tr>
<tr>
<td width="200px"> \r\n+STOAUT=1\r\n
</td>
<td width="400px"> Permit. Save and Rest.
</td></tr></table>
<p><b>6. Set PINCODE</b>
</p>
<table>
<tr>
<td width="200px"> \r\n +STPIN=2222\r\n
</td>
<td width="400px"> Set pincode “2222”, Save and Rest.
</td></tr></table>
<p><b>7. Delete PINCODE(input PINCODE by MCU)</b>
</p>
<table>
<tr>
<td width="200px"> \r\n+DLPIN\r\n
</td>
<td width="400px"> Delete pincode. Save and Rest.
</td></tr></table>
<p><b>8. Read local ADDRESS CODE</b>
</p>
<table>
<tr>
<td width="200px"> \r\n+RTADDR\r\n
</td>
<td width="400px"> Return address of the device.
</td></tr></table>
<p><b>9. Auto-reconnecting when master device is beyond the valid range (slave device will auto-reconnect in 30 min when it is beyond the valid range)</b>
</p>
<table>
<tr>
<td width="200px"> \r\n+LOSSRECONN=0\r\n
</td>
<td width="400px"> Forbid auto-reconnecting.
</td></tr>
<tr>
<td width="200px"> \r\n+LOSSRECONN=1\r\n
</td>
<td width="400px"> Permit auto-reconnecting.
</td></tr></table>
<h4>  Commands for Normal Operation:  </h4>
<p><b>1. Inquire</b>
</p>
<table>
<tr>
<td colspan="2" width="600px"> <b>a) Master</b>
</td></tr>
<tr>
<td width="200px"> \r\n+INQ=0\r\n
</td>
<td width="400px"> Stop Inquiring
</td></tr>
<tr>
<td> \r\n+INQ=1\r\n
</td>
<td> Begin/Restart Inquiring
</td></tr>
<tr>
<td colspan="2" width="600px"> <b>b) Slave</b>
</td></tr>
<tr>
<td> \r\n+INQ=0\r\n
</td>
<td> Disable been inquired
</td></tr>
<tr>
<td> \r\n+INQ=1\r\n
</td>
<td> Enable been inquired
</td></tr></table>
<p>When <b>+INQ=1</b> command is successful, the <span style="color:red"> red </span> and <span style="color:green">green</span> LEDS blink alternatively. 
</p><p><b>2. Bluetooth module returns inquiring result</b>
</p>
<table>
<tr>
<td width="250px"> \r\n+RTINQ=aa,bb,cc,dd,ee,ff;name\r\n
</td>
<td width="500px"> Serial Bluetooth device with the address “aa,bb,cc,dd,ee,ff” and the name “name” is inquired
</td></tr></table>
<p><b>3. Connect device</b>
</p>
<table>
<tr>
<td width="250px"> \r\n+CONN=aa,bb,cc,dd,ee,ff\r\n
</td>
<td width="500px"> Connect to a device with address of "aa,bb,cc,dd,ee,ff”
</td></tr></table>
<p><b>4. Bluetooth module requests inputting PINCODE</b>
</p><p>\r\n+INPIN\r\n 
</p><p><b>5. Input PINCODE</b>
</p>
<table>
<tr>
<td colspan="2"> \r\n+RTPIN=code\r\n
</td></tr>
<tr>
<td> Example: RTPIN=0000
</td>
<td> Input PINCODE which is four zero
</td></tr></table>
<p><b>6. Disconnect device</b> Pulling PIO0 high will disconnect current working Bluetooth device. 
</p><p><b>7. Return status</b> \r\n+BTSTA:<b>xx</b>\r\n <br/> <b>xx</b> status: 
</p>
<ul><li>0 - Initializing 
</li><li>1 - Ready 
</li><li>2 - Inquiring 
</li><li>3 - Connecting 
</li><li>4 - Connected
</li></ul>
<p>(<b>Note:</b> This is not a command, but the information returned from the module after every command)  
</p>
<h2>  Additional Idea  </h2>
<ul><li><a href="http://www.seeedstudio.com/forum/viewtopic.php?f=18&amp;t=1436&amp;p=5637#p5637">How to set PC connect with Serial Bluetooth Grove</a>
</li><li><a href="http://www.seeedstudio.com/forum/viewtopic.php?f=4&amp;t=687">Set up connections between two Bluetooth modules step by step</a>
</li></ul>
<h2>  Resources  </h2>
<ul><li><a href="res/Bluetooth_Software_Instruction.pdf">Software instruction</a>
</li><li><a href="res/Bluetooth_module.pdf">Bluetooth module Datasheet</a>
</li></ul>
<h2>  FAQ  </h2>
<p>Please list your question here: 
</p>
<h2>  Support  </h2>
<p>If you have questions or other better design ideas, you can go to our <a href="http://www.seeedstudio.com/forum">forum</a> or <a href="http://wish.seeedstudio.com">wish</a> to discuss.<br/>
</p>
<h2>  How to buy  </h2>
<p>Click here to buy: <a href="http://www.seeedstudio.com/depot/serial-port-bluetooth-module-masterslave-p-572.html?cPath=139_142">Serial port bluetooth module (Master/Slave)</a>
</p>
<h2>  See Also  </h2>
<ul><li><a href="http://www.seeedstudio.com/depot/grove-serial-bluetooth-p-795.html?cPath=139_142">Grove - Serial Bluetooth</a><br/>
</li><li><a href="http://www.seeedstudio.com/depot/bluetooth-bee-standalone-p-1157.html?cPath=139_142">Bluetooth Bee - Standalone</a>
</li><li><a href="http://www.seeedstudio.com/depot/bluetooth-shield-p-866.html?cPath=132_134">Bluetooth Shield</a>
</li><li><a href="http://www.seeedstudio.com/depot/bluetooth-bee-p-598.html?cPath=139_142">Bluetooth Bee</a>
</li></ul>
<h2>  Licensing  </h2>
<p>This documentation is licensed under the Creative Commons <a href="http://creativecommons.org/licenses/by-sa/3.0/">Attribution-ShareAlike License 3.0</a> Source code and libraries are licensed under <a href="http://www.gnu.org/licenses/gpl.html">GPL/LGPL</a>, see source code files for details. 
</p>
<h2>  External Links  </h2>
<p>Links to external webpages which provide more application ideas, documents/datasheet or software libraries
</p><p><br/>
</p>
<h2> Related Projects</h2>
<p>If you want to make some awesome projects by Serial port bluetooth module, here's some projects for reference.
</p>
<h3> Control Multiple servo Motor From android app</h3>
<p><img src="img/Control_Multiple_servo_Motor_From_android_app.jpg" width="400"/>
</p><p>This is an interesting demo make by Arduino and <a href="/Grove_System" title="Grove System">Grove</a>.
This is a complete tutorial about how to control multiple servo motors from android app. 
</p><p><br/>
<a href="http://www.seeedstudio.com/recipe/255-control-multiple-servo-motor-from-android-app.html"><font color="#FF0000"><b>I want to make it.</b></font></a>
</p><p><br/>
</p><p><br/>
</p>
<h3>  Share Your Awesome Projects with Us </h3>
<p>Born with the spirit of making and sharing, that is what we believe makes a maker. 
</p><p>And only because of this , the open source community can be as prosperous as it is today.
</p><p>It does not matter what you are and what you have made, hacker, maker, artist and engineers, 
</p><p>as long as you start sharing your works with others, 
</p><p>you are being part of the open source community and you are making your contributions .
</p><p>Now share you awesome projects on with us on <a href="http://www.seeedstudio.com/recipe/">Recipe</a>, and win a chance to become the Core User of Seeed.
</p>
<ul><li> Core Users, are those who showing high interests and significant contributions in Seeed products. 
</li><li> We cooperate with our Core Users in the development of our new product, this, in another word, the Core Users will have the chance to experience any new products of Seeed before its official launch, and in return we expect valuable feedback from them to help us improving the product performance and user experience. And for most of cases if our Core Users have any good ideas for making things, we'll offer hardware pieces, PCBA services as well as technical support. Besides, further commercial cooperation with the Core Users is highly possible.
</li></ul>
<p><br/>
<font color="#FF0000">Get more information about Core User please email to: recipe@seeed.cc</font>
</p><p><br/>
<br/>
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>